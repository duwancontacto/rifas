"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{7896:function(e,a){a.Z={src:"/_next/static/media/Contacto-bg.5de213e9.jpg",height:150,width:1920,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAEACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABQEBAQAAAAAAAAAAAAAAAAAAAwb/2gAMAwEAAhADEAAAAI4a4//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Af//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Af//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:8,blurHeight:1}},8837:function(e,a,s){s.d(a,{Z:function(){return o}});var t=s(5893),n=s(7294),i=s(3750),r=s(2708);function o(e){let{head:a,options:s,Component:o,actions:l,disableFilter:c,title:d,pagination:u,getRequest:m,loading:p}=e,[x,f]=(0,r.YD)({triggerOnce:!1});return(0,n.useEffect)(()=>{f&&u&&m&&m(u)},[f]),(0,t.jsxs)("div",{className:"pt-3 background-dashboard mt-3 ",children:[d&&(0,t.jsx)("p",{className:"mt-3 ps-3 details-Cartera ",children:d}),!c&&(0,t.jsxs)("div",{className:"d-block d-md-flex justify-content-between align-items-center border-1   mb-4  px-3 ",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center ",children:[(0,t.jsx)("h6",{className:"me-2",children:"Fechas "}),(0,t.jsx)("input",{type:"datetime-local",className:"w-25 form-control my-2 fs-5 m-0 "}),(0,t.jsx)("input",{type:"datetime-local",className:"w-25 form-control my-2 fs-5 m-0 "})]}),(0,t.jsxs)("div",{className:"input-group  w-75  border-input ",children:[(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar Rifas "}),(0,t.jsx)("button",{className:"btn btn-btn-outline-light  ",type:"button",id:"button-addon2",children:(0,t.jsx)(i.dVI,{})})]})]}),(0,t.jsxs)("div",{className:"table-responsive  mx-3 ",children:[(0,t.jsxs)("table",{className:"table ",children:[(0,t.jsx)("thead",{className:"container-cartera ",children:(0,t.jsx)("tr",{className:"",children:a.map((e,a)=>(0,t.jsx)("th",{className:"select-DashboarRifas px-2 text-center",scope:"col",style:e.width?{width:e.width}:{},children:e.label},a))})}),(0,t.jsx)("tbody",{children:s.map((e,a)=>(0,t.jsx)(o,{actions:l,option:e,index:a},a))})]}),p&&(0,t.jsx)("div",{style:{height:"1000px"}}),(0,t.jsx)("div",{ref:x})]})]})}},5085:function(e,a,s){s.d(a,{Z:function(){return o}});var t=s(5893),n=s(4568),i=s(1163);s(7294);var r=s(5434);function o(e){let{renderButton:a,screen:s,profile:o}=e,l=(0,i.useRouter)(),c=(0,n.R)(e=>e.asociations),d=c.find(e=>e.id===Number(l.query.id));return(0,t.jsxs)("div",{className:"background-dashboard  d-block d-lg-flex justify-content-between align-items-center p-3 col-12 ",children:[(0,t.jsx)("div",{className:" d-block d-md-flex mt-2 ",children:(0,t.jsxs)("p",{className:"title-dashboard mx-2  ",children:[!o&&"".concat(null==d?void 0:d.association_name," / "),s]})}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center ",children:[!o&&(0,t.jsxs)("button",{className:" p-2 me-3 button-dashboard m-0 ",onClick:()=>l.push("/dashboard/"),children:[(0,t.jsx)(r.sG8,{}),"Mis asociaciones"]}),a&&a()]})]})}},103:function(e,a,s){s.d(a,{Z:function(){return c}});var t=s(5893),n=s(5913),i=s(5675),r=s.n(i);s(7294);var o=s(9583),l=s(9037);function c(e){let{option:a,index:s,actions:i}=e,{setShowEdit:c,setShowInfo:d}=i;return(0,t.jsxs)("tr",{className:"border position-relative  text-center",style:{background:s%2==0?"#F2F2F2":"#fff"},children:[(0,t.jsxs)("th",{scope:"row text-center ",children:[(0,t.jsx)("div",{className:"position-absolute top-0 start-0 borderLateral-Rifas ",style:{backgroundColor:(0,n.sG)(a.status)}}),(0,t.jsx)("div",{className:"  d-flex justify-content-center  align-items-center  icon ms-3 w-full",children:(0,t.jsx)(r(),{width:50,height:50,src:a.image||l.Z,alt:a.name,className:"rounded"})})]}),(0,t.jsxs)("td",{children:[(0,t.jsx)("h6",{className:"text-cartera px-2 ",children:a.name}),(0,t.jsx)("p",{className:"parraf-cartera px-2",children:a.informacion})]}),(0,t.jsxs)("td",{className:"number-dashboardRifas ",children:[" ",new Date(a.created_at).toLocaleDateString()]}),(0,t.jsx)("td",{className:"number-dashboardRifas ",children:a.value}),(0,t.jsx)("td",{style:{width:"110px",color:(0,n.sG)(a.status)},className:"number-dashboardRifas px-3",children:(0,n.Eu)(a.status)}),(0,t.jsx)("td",{className:"icon-dashboarRifas ",children:(0,t.jsx)(o.ffH,{onClick:()=>{c(a)},color:"#2161BD",size:18})})]})}},623:function(e,a,s){s.d(a,{Z:function(){return u}});var t=s(5893);s(7294);var n=s(8596),i=s(5709),r=s(1649),o=s(8424),l=s(4568),c=s(5539),d=s(1163);function u(e){var a,s;let{show:u,setShow:m,handleReset:p}=e,{loading:x}=(0,r.v9)(o.VB);(0,d.useRouter)();let f=(0,c.E)(e=>e.updatePrize),{prizesCategories:h}=(0,r.v9)(o.VB),A=(0,l.R)(e=>e.asociations),g=async e=>{await f(u.id,e,u),p()},b=(null==u?void 0:u.images)&&(null==u?void 0:null===(a=u.images)||void 0===a?void 0:a.length)>0?null==u?void 0:null===(s=u.images)||void 0===s?void 0:s.map(e=>e.file):(null==u?void 0:u.image)?[null==u?void 0:u.image]:[],j=[{label:" \xbfCu\xe1l es el nombre del premio?",name:"name",required:!0,type:"text",default:null==u?void 0:u.name},{label:"\xbfCu\xe1l es la descripci\xf3n del  premio?*",name:"description",required:!0,type:"textarea",default:null==u?void 0:u.description},{label:"\xbfQu\xe9 categor\xeda describe tu producto?*",name:"category",required:!0,type:"select",options:h.map(e=>({label:e.name,value:e.id})),default:null==u?void 0:u.category},{label:"\xbfCu\xe1l es el precio de tu producto (pesos MXN)?*",name:"value",required:!0,type:"number",default:null==u?void 0:u.value},{label:"\xbfQuieres asignar tu premio a alguna Asociaci\xf3n?",name:"association",required:!1,type:"select",options:A.map(e=>({label:e.association_name,value:e.id})),default:null==u?void 0:u.association},{label:"\xbfCu\xe1l es la condici\xf3n de tu producto?*",name:"status",required:!0,type:"radioButton",options:[{label:"Nuevo",value:"nuevo"},{label:"Usado",value:"usado"}],default:"nuevo"},{label:"Agrega las fotos de tu premio",name:"image",required:!1,type:"file",default:[...b]}];return(0,t.jsx)(t.Fragment,{children:u?(0,t.jsx)("div",{children:(0,t.jsx)(n.Z,{className:"custom-modal",show:u,setShowScreen:()=>m(!1),children:(0,t.jsxs)(n.Z.Body,{className:"px-4",children:[(0,t.jsx)("div",{className:"m-auto mb-4",children:(0,t.jsx)("h4",{className:"text-secondary text-center m-0",children:"Editar Premio"})}),(0,t.jsx)("div",{style:{cursor:"pointer"},className:"fs-4 text-secondary position-absolute top-0 end-0 mx-3 my-2",onClick:()=>m(!1),children:"X"}),(0,t.jsx)(i.Z,{buttonText:"Guardar Causa",fields:j,submitData:g,loading:x})]})})}):null})}},6782:function(e,a,s){s.d(a,{Z:function(){return l}});var t=s(5893);s(7294);var n=s(8596),i=s(5709),r=s(1649),o=s(8424);function l(e){let{show:a,setShow:s}=e,l=async e=>{},{loading:c}=(0,r.v9)(o.VB);return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(n.Z,{className:"custom-modal",show:a,setShowScreen:()=>s(!1),children:(0,t.jsxs)(n.Z.Body,{className:"px-4",children:[(0,t.jsx)("div",{className:"m-auto mb-4",children:(0,t.jsx)("h4",{className:"text-secondary text-center m-0",children:"Editar Rifa"})}),(0,t.jsx)("div",{style:{cursor:"pointer"},className:"fs-4 text-secondary position-absolute top-0 end-0 mx-3 my-2",onClick:()=>s(!1),children:"X"}),(0,t.jsx)(i.Z,{buttonText:"Guardar Rifa",fields:[],submitData:l,loading:c})]})}):null})}},1541:function(e,a,s){s.d(a,{Z:function(){return l}});var t=s(5893);s(7294);var n=s(8596),i=s(5709),r=s(1649),o=s(8424);function l(e){let{show:a,setShow:s}=e,l=async e=>{},{loading:c}=(0,r.v9)(o.VB);return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)("div",{className:"",children:(0,t.jsx)(n.Z,{className:"custom-modal",show:a,setShowScreen:()=>s(!1),children:(0,t.jsxs)(n.Z.Body,{className:"px-4",children:[(0,t.jsx)("div",{className:"m-auto mb-4",children:(0,t.jsx)("h4",{className:"text-secondary text-center m-0",children:"Informaci\xf3n del Premio"})}),(0,t.jsx)("div",{style:{cursor:"pointer"},className:"fs-4 text-secondary position-absolute top-0 end-0 mx-3 my-2",onClick:()=>s(!1),children:"X"}),(0,t.jsx)(i.Z,{buttonText:"Cerrar",fields:[{label:"Nombre del premio ",name:"name-cause",required:!0,type:"text"},{label:"Descripci\xf3n del premio",name:"descriptions-cause",required:!0,type:"textarea"},{label:"Fotos de tu premio",name:"photo",required:!1,type:"file"}],submitData:l,loading:c}),(0,t.jsxs)("div",{className:"d-flex align-items-center m-0 ",children:[(0,t.jsx)("p",{className:"title-informationCausa",children:"Agregado por: "}),(0,t.jsx)("p",{className:"information-cause mx-2",children:"Cuautli Martinez"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center m-0 ",children:[(0,t.jsxs)("p",{className:"title-informationCausa",children:["Fecha en que se agrego:"," "]}),(0,t.jsx)("p",{className:"information-cause mx-2",children:" 31/05/2023"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center m-0",children:[(0,t.jsx)("p",{className:"title-informationCausa",children:"Monto a lograr: "}),(0,t.jsx)("p",{className:"information-cause mx-2",children:" $ 1000.00 pesos"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center m-0 p-0",children:[(0,t.jsx)("p",{className:"title-informationCausa ",children:"Estado de tu rifa: "}),(0,t.jsx)("p",{className:"mx-2 information-cause",children:"Tu rifa esta en proceso de verificaci\xf3n."})]})]})})}):null})}},4258:function(e,a,s){s.d(a,{Z:function(){return l}});var t=s(5893);s(7294);var n=s(8596),i=s(5709),r=s(1649),o=s(8424);function l(e){let{show:a,setShow:s}=e,l=async e=>{},{loading:c}=(0,r.v9)(o.VB);return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(n.Z,{className:"custom-modal",show:a,setShowScreen:()=>s(!1),children:(0,t.jsxs)(n.Z.Body,{className:"px-4",children:[(0,t.jsx)("div",{className:"m-auto mb-4",children:(0,t.jsx)("h4",{className:"text-secondary text-center m-0",children:"Informaci\xf3n del Premio"})}),(0,t.jsx)("div",{style:{cursor:"pointer"},className:"fs-4 text-secondary position-absolute top-0 end-0 mx-3 my-2",onClick:()=>s(!1),children:"X"}),(0,t.jsx)(i.Z,{buttonText:"Cerrar",fields:[],submitData:l,loading:c})]})}):null})}},7145:function(e,a,s){s.d(a,{Z:function(){return r}});var t=s(5893);s(7294);var n=s(8596),i=s(6249);function r(e){let{showModalRaffle:a,handleClose:s}=e;return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)("div",{children:(0,t.jsxs)(n.Z,{className:"",size:"xl",show:a,handleCloseDelete:s,children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h4",{className:"modal-title text-secondary text-center m-0",id:"staticBackdropLabel",children:"  Crear una Rifa"}),(0,t.jsx)("button",{style:{cursor:"pointer"},className:"fs-4 text-secondary position-absolute top-0 end-0 mx-3 my-2 btn-close",onClick:s,type:"button","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,t.jsx)(n.Z.Body,{className:"",children:(0,t.jsx)(i.Z,{})}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{onClick:s,type:"button",className:"btn btn-border-pink","data-bs-dismiss":"modal",children:"Cerrar"}),(0,t.jsx)("button",{type:"button",className:"btn btn-pink",children:"Borrar"})]})]})}):null})}},8393:function(e,a,s){s.d(a,{Z:function(){return m}});var t=s(5893),n=s(7294),i=s(8596),r=s(3680),o=s(5709),l=s(1649),c=s(8424),d=s(2627),u=s(4568);function m(e){let{showScreen:a,handleClose:s,handleSubmit:m,activeSelect:p,setShowScreen:x,handleReset:f}=e,h=(0,l.I0)(),[A,g]=(0,n.useState)(!1),{prizesCategories:b}=(0,l.v9)(c.VB),j=(0,u.R)(e=>e.asociations),v=[{label:" \xbfCu\xe1l es el nombre del premio?",name:"name",required:!0,type:"text"},{label:"\xbfCu\xe1l es la descripci\xf3n del  premio?*",name:"description",required:!0,type:"textarea"},{label:"\xbfQu\xe9 categor\xeda describe tu producto?*",name:"category",required:!0,type:"select",options:b.map(e=>({label:e.name,value:e.id}))},{label:"\xbfCu\xe1l es el precio de tu producto (pesos MXN)?*",name:"value",required:!0,type:"number"},{label:"\xbfQuieres asignar tu premio a alguna Asociaci\xf3n?",name:"association",required:!1,type:"select",options:j.map(e=>({label:e.association_name,value:e.id}))},{label:"\xbfCu\xe1l es la condici\xf3n de tu producto?*",name:"status",required:!0,type:"radioButton",options:[{label:"Nuevo",value:"nuevo"},{label:"Usado",value:"usado"}]},{label:"Agrega las fotos de tu premio",name:"image",required:!1,type:"file"}],y=async e=>{g(!0);let{payload:a}=await h((0,c.FL)(e));a&&(x(),f()),g(!1)};return(0,t.jsx)("section",{children:(0,t.jsx)(i.Z,{show:a,onHide:s,className:"custom-modal ",children:(0,t.jsxs)(i.Z.Body,{className:"px-4",children:[(0,t.jsxs)(i.Z.Header,{children:[!p&&(0,t.jsx)("h4",{className:"title-Modal",children:"Donar premio"}),p&&(0,t.jsx)("h4",{className:"title-Modal",children:"Seleccionar premio"})]}),(0,t.jsx)("div",{style:{cursor:"pointer"},className:"fs-4 text-secondary position-absolute top-0 end-0 mx-3 my-2",onClick:s,children:"X"}),!p&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(o.Z,{fields:v,submitData:y,loading:A,renderButton:e=>(0,t.jsxs)("section",{className:"row w-100 mx-auto mt-5   ",children:[(0,t.jsx)("div",{className:"border-bottom  border border-dark opacity-50 w-100 "}),(0,t.jsxs)("div",{className:"d-flex justify-content-end mt-3",children:[(0,t.jsx)("div",{className:"col-3 p-0 pe-2   ",children:(0,t.jsx)(r.Z,{disabled:A,variant:"secondary",onClick:s,className:"w-100 text-dark bg-light",children:"Cerrar"})}),(0,t.jsx)("div",{className:"col-4 p-0 ps-2 ",children:(0,t.jsx)(r.Z,{disabled:A,variant:"secondary",type:"submit",className:"w-100 btn btn-pink",onClick:a=>{a.preventDefault(),e()},children:"Guardar premio"})})]})]})})}),p&&(0,t.jsx)(d.Z,{handleSubmit:m})]})})})}},3697:function(e,a,s){s.d(a,{Ab:function(){return c},An:function(){return o},Hd:function(){return l},Kj:function(){return u},SB:function(){return p},eB:function(){return d},p6:function(){return r},xU:function(){return m}});var t=s(444),n=s(6154);let i="https://www.api.rifaconcausa.org/",r=(e,a)=>(0,t.V)({endpoint:"/associations/".concat(e,"/causes/?page=").concat(a),method:"GET"}),o=(e,a)=>(0,t.V)({endpoint:"/associations/".concat(e,"/refunds/?page=").concat(a),method:"GET"}),l=(e,a)=>(0,t.V)({endpoint:"/associations/".concat(e,"/prizes/?page=").concat(a),method:"GET"}),c=e=>(0,t.V)({endpoint:"/prizes/my_prizes/?page=".concat(e),method:"GET"}),d=e=>(0,t.V)({endpoint:"/associations/".concat(e,"/counts/"),method:"GET"}),u=e=>(0,t.V)({endpoint:"/associations/".concat(e,"/raffles/"),method:"GET"}),m=(e,a)=>{let s=new FormData;return s.append("name",a.name),s.append("description",a.description),s.append("categories",a.categories),s.append("goal",a.goal),s.append("association",a.association),a.image[0]&&s.append("image",a.image[0]),n.Z.put(i+"/causes/".concat(e,"/"),s,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("sessionToken"))}})},p=(e,a)=>{let s=new FormData;return s.append("name",a.name),s.append("description",a.description),s.append("category",a.category),s.append("status",a.status),s.append("value",a.value),a.association&&s.append("association",a.association),"string"!=typeof a.image[0]&&a.image[0]&&s.append("image",a.image[0]),n.Z.put(i+"/prizes/".concat(e,"/"),s,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.getItem("sessionToken"))}})}},4568:function(e,a,s){s.d(a,{R:function(){return o},p:function(){return r}});var t=s(4529),n=s(3697),i=s(3843);let r=(0,t.Ue)(e=>({isLoading:!1,raffle:[],error:!1,rafflePurchase:[],paginacion:1,getRaffle:async a=>{e({isLoading:!0});let{data:s}=await (0,n.Kj)(a);e({raffle:s.results,isLoading:!1})},getRafflesPurchase:async a=>{try{e({isLoading:!0});let{data:s}=await (0,i.bN)(a||1),t=s.next?a+1:null;e(e=>({rafflePurchase:1===a?s.results:[...e.rafflePurchase,...s.results],isLoading:!1,paginacion:t}))}catch(e){}}})),o=(0,t.Ue)(e=>({isLoading:!1,asociations:[],resumen:[],error:!1,wallets:[],pagination:1,getAsociations:async()=>{e({isLoading:!0});let{data:a}=await (0,i.fM)();e({asociations:a.results,isLoading:!1})},getWallet:async(a,s)=>{e({isLoading:!0});let{data:t}=await (0,n.An)(a,s),i=t.next?s+1:null;e(e=>({wallets:1===s?t.results:[...e.wallets,...t.results],isLoading:!1,pagination:i}))},getResumen:async a=>{e({isLoading:!0});let{data:s}=await (0,n.eB)(a);e({resumen:s,isLoading:!1})}}))},5539:function(e,a,s){s.d(a,{E:function(){return r}});var t=s(3697),n=s(3843),i=s(4529);let r=(0,i.Ue)(e=>({isLoading:!1,prize:[],error:!1,pagination:1,prizeUser:[],paginationUser:1,getPrize:async(a,s)=>{e({isLoading:!0});let{data:n}=await (0,t.Hd)(a,s),i=n.next?s+1:null;e(e=>({prize:1===s?n.results:[...e.prize,...n.results],isLoading:!1,pagination:i}))},getPrizeUser:async a=>{e({isLoading:!0});let{data:s}=await (0,t.Ab)(a),n=s.next?a+1:null;e(e=>({prizeUser:1===a?s.results:[...e.prizeUser,...s.results],isLoading:!1,paginationUser:n}))},updatePrize:async(a,s,i)=>{if(e({isLoading:!0}),s.status="usado"===s.status?1:0,s.association=Number(s.association),(0===s.association||void 0===s.association)&&delete s.association,s.category=Number(s.category),await (0,t.SB)(a,s),s.image&&s.image.length>1){let e=[];i.images.map(a=>e.push((0,n.dY)(a.id))),s.image.map(s=>e.push((0,n.J2)(s,a.toString())));let t=await Promise.all(e);await (0,n.cW)(a.toString(),{gallery:t.map(e=>e.data.id),name:s.name,value:s.value})}e({isLoading:!1})}}))},5913:function(e,a,s){s.d(a,{Eu:function(){return r},HY:function(){return n},sG:function(){return i},z2:function(){return t}});let t=e=>{switch(e){case"0":return"#00A650";case"1":return"#FF8800";case"2":return"#F23D4F";default:return"#784B5F"}},n=e=>{switch(e.toString()){case"0":return"Canceled";case"1":return"Public";case"2":return"Completed";case"3":return"Draft";case"4":return"Paused";case"5":return"Requested";case"6":return"Rejectes";default:return"Default"}},i=e=>{switch(e.toString()){case"0":return"#00A650";case"1":return"#FF8800";default:return"status-vigente"}},r=e=>{switch(e.toString()){case"0":return"Nuevo";case"1":return"Usado";default:return"status-vigente"}}}}]);